<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>ClosenStein — Live v3.1 (Manual Deposit)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --jg-green:#0bb852;
      --jg-deep:#0a7a3a;
      --bg:#f5fbf7;
      --card:#ffffff;
      --line:#dbe8df;
      --text:#102316;
      --muted:#6c7a71;
      --danger:#b00020;
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
    }
    header{
      display:flex;
      align-items:center;
      gap:12px;
      padding:10px 14px;
      border-bottom:1px solid var(--line);
      background:#fff;
      position:sticky;
      top:0;
      z-index:20;
    }
    .logo{
      width:36px;
      height:36px;
      border-radius:10px;
      background:linear-gradient(135deg,var(--jg-green),var(--jg-deep));
      display:grid;
      place-items:center;
      color:#fff;
      font-weight:900;
      letter-spacing:.5px;
    }
    h1{
      margin:0;
      font-size:18px;
    }
    .sub{
      font-size:12px;
      color:var(--muted);
    }
    .container{
      max-width:1100px;
      margin:14px auto 60px;
      padding:0 12px 16px;
    }
    .tabs{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-bottom:10px;
    }
    .tab-btn{
      border:1px solid var(--line);
      background:#fff;
      padding:6px 10px;
      border-radius:999px;
      font-size:13px;
      cursor:pointer;
      color:var(--muted);
    }
    .tab-btn.active{
      background:var(--jg-green);
      border-color:var(--jg-deep);
      color:#fff;
      font-weight:600;
    }
    section.tab{
      display:none;
    }
    section.tab.active{
      display:block;
    }
    .card{
      background:var(--card);
      border-radius:14px;
      border:1px solid var(--line);
      padding:12px 14px;
      margin-bottom:10px;
      box-shadow:0 8px 18px rgba(0,0,0,.03);
    }
    h2{
      margin:0 0 6px;
      font-size:16px;
    }
    h3{
      margin:10px 0 6px;
      font-size:14px;
    }
    label{
      font-size:13px;
      font-weight:600;
      display:block;
      margin-bottom:4px;
    }
    input, select, textarea{
      width:100%;
      padding:8px 10px;
      border-radius:8px;
      border:1px solid #ccd8cf;
      font-size:14px;
      font-family:inherit;
    }
    textarea{
      min-height:70px;
      resize:vertical;
    }
    .row{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
    }
    .col{
      flex:1 1 220px;
    }
    .check-row{
      display:flex;
      align-items:center;
      gap:6px;
      font-size:13px;
      margin-top:4px;
    }
    .check-row input{
      width:auto;
    }
    .hint{
      font-size:12px;
      color:var(--muted);
    }
    .intro-block{
      border-radius:10px;
      border:2px solid var(--jg-green);
      background:#eefdf3;
      padding:10px 12px;
      font-size:13px;
    }
    .intro-main{
      font-weight:700;
      margin-bottom:4px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:6px;
      border-radius:999px;
      border:1px solid var(--line);
      background:#fff;
      padding:4px 8px;
      font-size:12px;
      margin-right:6px;
      margin-top:4px;
    }
    .state-notes{
      font-size:12px;
      color:var(--muted);
      margin-top:4px;
    }
    .script-box{
      border-radius:10px;
      border:1px dashed var(--line);
      background:#fafdfb;
      padding:10px 12px;
      font-size:13px;
      white-space:pre-wrap;
    }
    .kpi-row{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:6px;
    }
    .kpi{
      flex:1 1 160px;
      border-radius:10px;
      border:1px solid var(--line);
      background:#fff;
      padding:8px 10px;
      font-size:12px;
    }
    .kpi strong{
      display:block;
      font-size:14px;
      margin-bottom:2px;
    }
    .quote-highlight{
      border-radius:10px;
      border:2px solid #ffb100;
      background:#fff9e6;
      padding:8px 10px;
      font-size:13px;
    }
    .recording-box{
      border-radius:10px;
      border:2px solid var(--jg-green);
      background:#f2fff7;
      padding:8px 10px;
      font-size:13px;
      margin:6px 0;
    }
    .danger{
      color:var(--danger);
      font-weight:600;
    }
    .btn{
      border:none;
      border-radius:999px;
      padding:7px 12px;
      font-size:13px;
      cursor:pointer;
      background:var(--jg-green);
      color:#fff;
      font-weight:600;
      box-shadow:0 6px 14px rgba(0,0,0,.12);
    }
    .btn.secondary{
      background:#e9f6ee;
      color:var(--jg-deep);
      box-shadow:none;
      border:1px solid var(--line);
    }
    @media (max-width:640px){
      header{align-items:flex-start;flex-direction:row;}
      .sub{display:block;}
    }
  </style>
</head>
<body>
<header>
  <div class="logo">JG</div>
  <div>
    <h1>ClosenStein — Live v3.1 (Manual Deposit)</h1>
    <div class="sub">One-page flow • Manual quote • State-smart • NSL / Arnold / AACR recording helper</div>
  </div>
</header>

<div class="container">

  <!-- TAB BUTTONS -->
  <div class="tabs">
    <button class="tab-btn active" data-tab="intro">Intro / Verify / Credit Reality</button>
    <button class="tab-btn" data-tab="budget">Budget + Quote</button>
    <button class="tab-btn" data-tab="banking">Banking / ACH</button>
    <button class="tab-btn" data-tab="fl">FL Notice</button>
    <button class="tab-btn" data-tab="recording">Recording Helper</button>
    <button class="tab-btn" data-tab="agreement">Agreement</button>
  </div>

  <!-- 1) INTRO / VERIFY / CREDIT REALITY -->
  <section id="tab-intro" class="tab active">
    <div class="card">
      <h2>1) Opener / Pattern Disrupt</h2>
      <div class="intro-block">
        <div class="intro-main">
          “Hey — it’s David from JG Wentworth on a recorded line. Looks like you may have been looking for a loan — is that what you’re looking for?”
        </div>
        <div><strong>If Yes →</strong> “Great — we do a lot here, so let’s see what we can do for you… sound fair?”</div>
        <div><strong>If No →</strong> “Got it — what were you looking for?” (Let them talk)<br>
        → “Well, let’s see if I can help… sound fair?”</div>
      </div>
      <label class="check-row">
        <input type="checkbox" />
        Recorded line disclosed
      </label>
    </div>

    <div class="card">
      <h2>2) Verify + Consent</h2>
      <p class="hint">Use this as a reminder — all details are already in Salesforce, just confirm.</p>
      <div class="row">
        <div class="col">
          <label for="clientState">Client State</label>
          <select id="clientState"></select>
        </div>
        <div class="col">
          <label for="flTp">FL TP# (if Florida)</label>
          <input id="flTp" type="text" value="TP 108499" />
        </div>
      </div>
      <div class="pill" id="stateModelPill">Model: —</div>
      <div class="pill" id="stateFeePill">Fee: —</div>
      <div class="pill" id="stateSavingsPill">Dedicated savings: —</div>
      <div class="state-notes" id="stateNotes">State notes will show here.</div>

      <div class="check-row">
        <input type="checkbox" />
        Consent read + identity verified (Name • Address • DOB • Last 4)
      </div>
      <div class="check-row">
        <input type="checkbox" />
        (FL only) I have personally read the required Florida TP language aloud before sending any contract.
      </div>

      <div style="margin-top:8px;">
        <div class="hint">
          Suggested consent: “Do I have your consent for a <strong>soft credit inquiry</strong> to look at your credit situation and see what you qualify for? It won’t affect your score.”
        </div>
      </div>
    </div>

    <div class="card">
      <h2>3) Credit Reality</h2>
      <p class="hint">Use this right after you review the soft pull.</p>
      <div class="row">
        <div class="col">
          <label for="enrolledDebt">Total Enrolled Debt ($)</label>
          <input id="enrolledDebt" type="number" min="0" step="100" />
        </div>
        <div class="col">
          <label for="minPayment">Minimum Monthly Payments ($)</label>
          <input id="minPayment" type="number" min="0" step="10" />
        </div>
        <div class="col">
          <label for="utilPct">Utilization (%)</label>
          <input id="utilPct" type="number" min="0" max="300" step="1" />
        </div>
      </div>

      <h3>Live Script</h3>
      <div class="script-box" id="creditScript">
“Yeah… I see why we’re talking today. You’ve got about $____ paying minimum $____ a month and wow your utilization is maxed at ___%. Looks like here you are paying a lot every month and score keeps dropping. (awkward pause) How long can you keep that up before it implodes?”
      </div>

      <label class="check-row">
        <input type="checkbox" />
        Creditors/balances reviewed
      </label>
    </div>
  </section>

  <!-- 2) BUDGET + QUOTE -->
  <section id="tab-budget" class="tab">
    <div class="card">
      <h2>4) Budget + Manual Quote</h2>
      <p class="hint">
        Step 1 — Confirm what they’re paying now. Step 2 — propose a lower deposit and program length.  
        The tool will show monthly savings and total savings and build the quote line for you.
      </p>

      <div class="row">
        <div class="col">
          <label for="curPayment">Current Total Monthly Payments ($)</label>
          <input id="curPayment" type="number" min="0" step="10" />
        </div>
        <div class="col">
          <label for="newDeposit">New Monthly Deposit ($)</label>
          <input id="newDeposit" type="number" min="0" step="10" />
        </div>
        <div class="col">
          <label for="progMonths">Program Length (months)</label>
          <input id="progMonths" type="number" min="6" step="1" />
        </div>
      </div>

      <div class="kpi-row">
        <div class="kpi">
          <strong>Monthly Savings</strong>
          <div id="monthlySavings">$0</div>
          <div class="hint">Current monthly − New deposit</div>
        </div>
        <div class="kpi">
          <strong>Total Savings over Program</strong>
          <div id="totalSavings">$0</div>
          <div class="hint">Monthly savings × program months</div>
        </div>
        <div class="kpi">
          <strong>Model / Fee / Recording</strong>
          <div id="quoteModelInfo">—</div>
          <div class="hint">Uses state above to show NSL / Arnold / Standard.</div>
        </div>
      </div>

      <h3>Quote Script</h3>
      <div class="quote-highlight" id="quoteScript">
“Great news — based on your balances and cash flow, a new loan probably isn’t the best option.  
I can get you on about ___ months with a monthly deposit of $___, saving you about $___ per month and roughly $___ over the life of the program.  

My question is, can you manage only $___ a month to finally get out of debt and start building that Savings Score?”
      </div>
    </div>
  </section>

  <!-- 3) BANKING / ACH -->
  <section id="tab-banking" class="tab">
    <div class="card">
      <h2>5) Banking / ACH Checklist</h2>
      <p class="hint">Use Salesforce ACH tab to enter details — this is just your checklist.</p>
      <label class="check-row">
        <input type="checkbox" /> Routing number captured
      </label>
      <label class="check-row">
        <input type="checkbox" /> Account number captured
      </label>
      <label class="check-row">
        <input type="checkbox" /> Name on account confirmed
      </label>
      <label class="check-row">
        <input type="checkbox" /> First deposit date set 7–14 days from today
      </label>
      <label class="check-row">
        <input type="checkbox" /> Ongoing drafts match client pay frequency (weekly, bi-weekly, semi-monthly, monthly)
      </label>
    </div>
  </section>

  <!-- 4) FLORIDA NOTICE -->
  <section id="tab-fl" class="tab">
    <div class="card">
      <h2>6) Florida TP Notice (FL Clients Only)</h2>
      <p class="hint danger">
        This must be read aloud <strong>before sending any Florida agreement</strong>. Reference manager Justin Stedman.
      </p>
      <div class="script-box">
<strong>Florida Compliance Notice — Must Be Read Aloud Before Sending Agreement</strong>

“You may give notice of cancellation to us in writing within <strong>7 business days</strong> after receipt of the confirmation. Furthermore, JG Wentworth’s policy allows you to cancel at any time and any <strong>unearned funds</strong> will be returned to you from your dedicated account.

The license number issued by the Florida Department of Agriculture and Consumer Services for both the commercial telephone seller is <strong>TC 5615</strong> and the salesperson is <strong>TP 108499</strong>. Our address is <strong>1200 Morris Drive, Chesterbrook, PA 19087</strong>.”
      </div>
      <label class="check-row">
        <input type="checkbox" />
        For Florida only: I have read this TP language aloud before sending the agreement.
      </label>
    </div>
  </section>

  <!-- 5) RECORDING HELPER -->
  <section id="tab-recording" class="tab">
    <div class="card">
      <h2>7) Recording Helper (NSL / Arnold / AACR)</h2>
      <p class="hint">
        After you finish Banking / ACH and dates, glance here so you know exactly <strong>which recording</strong> to play for this state.
      </p>

      <div class="recording-box">
        <div><strong>Recording to play for this state:</strong></div>
        <div id="recordingOutput">Select a client state in Step 2 to see the correct recording.</div>
      </div>

      <ul class="hint">
        <li><strong>NSL States</strong> → Play <strong>NSL Attorney Model</strong> confirmation recording.</li>
        <li><strong>West Virginia</strong> → Play <strong>Arnold &amp; Smith (WV)</strong> recording.</li>
        <li><strong>All other states</strong> → Play <strong>Standard AACR</strong> recording.</li>
      </ul>

      <label class="check-row">
        <input type="checkbox" />
        Recording played &amp; confirmation completed with client
      </label>
    </div>
  </section>

  <!-- 6) AGREEMENT -->
  <section id="tab-agreement" class="tab">
    <div class="card">
      <h2>8) Agreement / Close</h2>
      <h3>Transition into Agreement</h3>
      <div class="script-box">
“Alright, based on your balances and budget, you’re approved to move forward.  
I’m going to email your agreement now so we can review it together — it only takes a few minutes.  
Once you confirm everything looks good, we’ll lock in your welcome call and your first deposit date.”
      </div>

      <h3>Final Checks</h3>
      <label class="check-row">
        <input type="checkbox" /> Correct program (NSL / Arnold / Standard) selected in Salesforce
      </label>
      <label class="check-row">
        <input type="checkbox" /> Agreement reviewed line-by-line (fees, deposits, term, cancellation)
      </label>
      <label class="check-row">
        <input type="checkbox" /> Email address confirmed and client received copy
      </label>
      <label class="check-row">
        <input type="checkbox" /> Welcome call expectations set
      </label>
    </div>
  </section>

</div>

<script>
  // ===== State Logic =====
  const NSL_STATES = new Set([
    "Connecticut","Delaware","Georgia","Hawaii","Illinois","Kansas","Maine",
    "Minnesota","New Hampshire","New Jersey","North Dakota","Ohio","Oregon",
    "Rhode Island","South Carolina","Vermont","Washington","Washington D.C.",
    "Wisconsin","Wyoming"
  ]);
  const ARNOLD_STATE = "West Virginia";

  const FEE_EXC = {
    "Iowa":"18%",
    "Idaho":"20%",
    "Montana":"20%",
    "Virginia":"20%"
  };

  const STATES = [
    "Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut",
    "Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa",
    "Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan",
    "Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire",
    "New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio",
    "Oklahoma","Oregon","Pennsylvania","Puerto Rico","Rhode Island","South Carolina",
    "South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington",
    "Washington D.C.","West Virginia","Wisconsin","Wyoming"
  ];

  function modelFor(state){
    if(NSL_STATES.has(state)) return "NSL Attorney Model";
    if(state === ARNOLD_STATE) return "Arnold & Smith (Attorney Model)";
    return "Standard (Non-Attorney)";
  }
  function feeFor(state){
    if(NSL_STATES.has(state) || state === ARNOLD_STATE) return "29%";
    if(FEE_EXC[state]) return FEE_EXC[state];
    return "25%";
  }
  function savingsFor(state){
    // simple version: NSL/Arnold = Global, others = CTT
    if(NSL_STATES.has(state) || state === ARNOLD_STATE) return "Global Holdings";
    return "CTT Pay";
  }

  function getRecordingForState(state){
    if(!state) return "Select a client state first.";
    if(state === ARNOLD_STATE) return "Arnold & Smith (WV) recording — A&S attorney script.";
    if(NSL_STATES.has(state)) return "NSL Attorney Model recording — NSL confirmation script.";
    return "Standard AACR recording — non-attorney program script.";
  }

  function formatMoney(n){
    if(isNaN(n)) return "$0";
    return n.toLocaleString(undefined,{style:"currency",currency:"USD",maximumFractionDigits:0});
  }

  // ===== UI Wiring =====
  document.addEventListener("DOMContentLoaded", function(){
    // populate state select
    const stateSel = document.getElementById("clientState");
    STATES.forEach(s=>{
      const opt = document.createElement("option");
      opt.value = s;
      opt.textContent = s;
      stateSel.appendChild(opt);
    });
    stateSel.value = "Florida";

    stateSel.addEventListener("change", function(){
      updateStatePills();
      updateRecordingHelper();
      updateQuoteModelInfo();
    });

    document.getElementById("flTp").addEventListener("input", updateStatePills);

    // credit reality inputs
    ["enrolledDebt","minPayment","utilPct"].forEach(id=>{
      const el = document.getElementById(id);
      el.addEventListener("input", updateCreditScript);
    });

    // budget + quote inputs
    ["curPayment","newDeposit","progMonths"].forEach(id=>{
      const el = document.getElementById(id);
      el.addEventListener("input", updateQuote);
    });

    // tabs
    document.querySelectorAll(".tab-btn").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        const tab = btn.dataset.tab;
        document.querySelectorAll(".tab-btn").forEach(b=>b.classList.toggle("active", b===btn));
        document.querySelectorAll("section.tab").forEach(sec=>sec.classList.toggle("active", sec.id === "tab-"+tab));
      });
    });

    // initial paint
    updateStatePills();
    updateRecordingHelper();
    updateCreditScript();
    updateQuote();
    updateQuoteModelInfo();
  });

  function updateStatePills(){
    const state = document.getElementById("clientState").value;
    const model = modelFor(state);
    const fee = feeFor(state);
    const sv = savingsFor(state);
    document.getElementById("stateModelPill").textContent = "Model: " + model;
    document.getElementById("stateFeePill").textContent = "Fee: " + fee;
    document.getElementById("stateSavingsPill").textContent = "Dedicated savings: " + sv;

    let notes = [];
    if(NSL_STATES.has(state)){
      notes.push("NSL state — use NSL attorney model and NSL recording.");
      notes.push("Use the word “deposits”, never “payments”.");
    }else if(state === ARNOLD_STATE){
      notes.push("West Virginia — Arnold & Smith attorney model.");
    }else if(state === "Florida"){
      const tp = document.getElementById("flTp").value || "TP 108499";
      notes.push("Florida — must read TP language before sending any contract.");
      notes.push("Salesperson license: " + tp + " • Seller: TC 5615.");
    }
    document.getElementById("stateNotes").textContent = notes.length ? notes.join(" ") : "Standard state model.";
  }

  function updateCreditScript(){
    const debt = Number(document.getElementById("enrolledDebt").value || 0);
    const min = Number(document.getElementById("minPayment").value || 0);
    const util = document.getElementById("utilPct").value;

    let line = "“Yeah… I see why we’re talking today. You’ve got about ";
    line += debt ? formatMoney(debt) : "$____";
    line += " paying minimum ";
    line += min ? formatMoney(min) : "$____";
    line += " a month and wow your utilization is maxed at ";
    line += util ? util + "%." : "___%.";
    line += " Looks like here you are paying a lot every month and score keeps dropping. (awkward pause) How long can you keep that up before it implodes?”";

    document.getElementById("creditScript").textContent = line;
  }

  function updateQuoteModelInfo(){
    const state = document.getElementById("clientState").value;
    const info = modelFor(state) + " • Fee " + feeFor(state) + " • " + getRecordingForState(state);
    document.getElementById("quoteModelInfo").textContent = info;
  }

  function updateQuote(){
    const cur = Number(document.getElementById("curPayment").value || 0);
    const dep = Number(document.getElementById("newDeposit").value || 0);
    const months = Number(document.getElementById("progMonths").value || 0);

    const monthlySavings = Math.max(0, cur - dep);
    const totalSavings = monthlySavings * (months || 0);

    document.getElementById("monthlySavings").textContent = formatMoney(monthlySavings);
    document.getElementById("totalSavings").textContent = formatMoney(totalSavings);

    updateQuoteModelInfo();

    const ms = monthlySavings ? formatMoney(monthlySavings) : "$___";
    const ts = totalSavings ? formatMoney(totalSavings) : "$___";
    const depTxt = dep ? formatMoney(dep) : "$___";
    const moTxt = months ? months : "___";

    const quote =
`“Great news — based on your balances and cash flow, a new loan probably isn’t the best option. I can get you on about ${moTxt} months with a monthly deposit of ${depTxt}, saving you about ${ms} per month and roughly ${ts} over the life of the program.

My question is, can you manage only ${depTxt} a month to finally get out of debt and start building that Savings Score?”`;

    document.getElementById("quoteScript").textContent = quote;
  }

  function updateRecordingHelper(){
    const state = document.getElementById("clientState").value;
    document.getElementById("recordingOutput").textContent = getRecordingForState(state);
  }
</script>
</body>
</html>
